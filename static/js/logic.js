
var myMap = L.map("map", {
    center: [50.4452, -104.6189],
    zoom: 4,
    // layers: [Total_Administered, Total_Distributed]
  });
  
  // Adding a tile layer (the background map image) to our map
  // We use the addTo method to add objects to our map
  L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}", {
    attribution: "© <a href='https://www.mapbox.com/about/maps/'>Mapbox</a> © <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a> <strong><a href='https://www.mapbox.com/map-feedback/' target='_blank'>Improve this map</a></strong>",
    tileSize: 512,
    maxZoom: 18,
    zoomOffset: -1,
    id: "mapbox/streets-v11",
    accessToken: API_KEY
  }).addTo(myMap);


var link = "static/data/csvjson.json";

d3.json(link).then(function(response) {
  console.log(response);

  var Tdis = L.heatLayer([[66.160507,	-153.369141,	155700],
    [32.31823,	-86.902298,	521225],
    [34.799999,	-92.199997,	368650],
    [14.271,	-170.1322,	18450],
    [34.048927,	-111.093735,	829500],
    [36.778259,	-119.417931,	4906525],
    [39.113014,	-105.358887,	692700],
    [41.599998,	-72.699997,	492850],
    [38.9072,	-77.0369,	91025],
    [38.8693,	-77.0536,	677025],
    [39,	-75.5,	116325],
    [27.994402,	-81.760254,	2908275],
    [7.4256,	150.5508,	19400],
    [33.247875,	-83.441162,	1235775],
    [13.4443,	144.7937,	34300],
    [19.741755,	-155.844437,	191575],
    [42.032974,	-93.581543,	361475],
    [44.068203,	-114.742043,	181100],
    [40.273502,	-86.126976,	357850],
    [40,	-89,	1417250],
    [40.273502,	-86.126976,	841725],
    [38.5,	-98,	348175],
    [37.839333,	-84.27002,	471000],
    [30.39183,	-92.329102,	543700],
    [42.407211,	-71.382439,	859175],
    [39.045753,	-76.641273,	742175],
    [45.367584,	-68.972168,	178450],
    [7.1315,	171.1845,	13600],
    [44.182205,	-84.506836,	1095675],
    [46.39241,	-94.63623,	680700],
    [38.573936,	-92.60376,	661400],
    [15.0979,	145.6739,	18650],
    [33,	-90,	358100],
    [46.96526,	-109.533691,	119500],
    [35.782169,	-80.793457,	1246600],
    [47.650589,	-100.437012,	86750],
    [71.5,	-100,	238100],
    [44,	-71.5,	162950],
    [39.833851,	-74.871826,	989900],
    [34.307144,	-106.018066,	257075],
    [39.876019,	-117.224121,	286950],
    [43,	-75,	2395950],
    [40.367474,	-82.996216,	1233075],
    [36.084621,	-96.921387,	496350],
    [44,	-120.5,	492450],
    [41.203323,	-77.194527,	1564125],
    [18.2208,	-66.5901,	371550],
    [41.700001,	-71.5,	149225],
    [7.515,	134.5825,	6000],
    [33.836082,	-81.163727,	453250],
    [44.5,	-100,	106575],
    [35.860119,	-86.660156,	838825],
    [31,	-100,	3070825],
    [39.41922,	-111.950684,	341725],
    [37.926868,	-78.024902,	1069725],
    [18.3358,	-64.8963,	14500],
    [44,	-72.699997,	90000],
    [47.751076,	-120.740135,	846625],
    [44.5,	-89.5,	610100],
    [39,	-80.5,	243100],
    [43.07597,	-107.290283,	70750]
    ], {
    radius: 25,
    blur: 35
  }).addTo(myMap);
  // var Tadmin = L.heatLayer([[66.160507,	-153.369141,	97031],
  //   [32.31823,	-86.902298,	250612],
  //   [34.799999,	-92.199997,	221095    ],
  //   [14.271,	-170.1322,	8046    ],
  //   [34.048927,	-111.093735,	413662    ],
  //   [36.778259,	-119.417931,	2330633    ],
  //   [39.113014,	-105.358887,	447880    ],
  //   [41.599998,	-72.699997,	331264    ],
  //   [38.9072,	-77.0369,	64194    ],
  //   [38.8693,	-77.0536,	346180    ],
  //   [39,	-75.5,	66914    ],
  //   [27.994402,	-81.760254,	1544794    ],
  //   [7.4256,	150.5508,	2758    ],
  //   [33.247875,	-83.441162,	604067    ],
  //   [13.4443,	144.7937,	3791    ],
  //   [19.741755,	-155.844437,	92092    ],
  //   [42.032974,	-93.581543,	196203]      ,
  //   [44.068203,	-114.742043,	91271]      ,
  //   [40.273502,	-86.126976,	155529    ],
  //   [40,	-89,723203    ],
  //   [40.273502,	-86.126976,	491856    ],
  //   [38.5,	-98,	154719    ],
  //   [37.839333,	-84.27002,	307462    ],
  //   [30.39183,	-92.329102,	341447    ],
  //   [42.407211,	-71.382439,	433615    ],
  //   [39.045753,	-76.641273,	350835    ],
  //   [45.367584,	-68.972168,	104069    ],
  //   [7.1315,	171.1845,	3098    ],
  //   [44.182205,	-84.506836,	727437    ],
  //   [46.39241,	-94.63623,	346864    ],
  //   [38.573936,	-92.60376,	335695    ],
  //   [15.0979,	145.6739,	8495    ],
  //   [33,	-90,	180960    ],
  //   [46.96526,	-109.533691,	77356    ],
  //   [35.782169,	-80.793457,	676037    ],
  //   [47.650589,	-100.437012,	75242    ],
  //   [71.5,	-100,	134033    ],
  //   [44,	-71.5,	94623]      ,
  //   [39.833851,	-74.871826,	563141    ],
  //   [34.307144,	-106.018066,	204670    ],
  //   [39.876019,	-117.224121,159869    ],
  //   [43,	-75,	1418313    ],
  //   [40.367474,	-82.996216,	685622    ],
  //   [36.084621,	-96.921387,	326546    ],
  //   [44,	-120.5,	300676    ],
  //   [41.203323,	-77.194527,	776799    ],
  //   [18.2208,	-66.5901,	187617    ],
  //   [41.700001,	-71.5,	70419    ],
  //   [7.515,	134.5825,	3046    ],
  //   [33.836082,	-81.163727,	307348    ],
  //   [44.5,	-100,	82512    ],
  //   [35.860119,	-86.660156,462646    ],
  //   [31,	-100,	1804006    ],
  //   [39.41922,	-111.950684,	229007    ],
  //   [37.926868,	-78.024902,	482973    ],
  //   [18.3358,	-64.8963,	3399    ],
  //   [44,	-72.699997,53624    ],
  //   [47.751076,	-120.740135,	488785    ],
  //   [44.5,	-89.5,	315876    ],
  //   [39,	-80.5,	203992    ],
  //   [43.07597,	-107.290283,	41156    ]
  //   ], {
  //   radius: 25,
  //   blur: 35
  // }).addTo(myMap);
  
});
// var overlayMaps = {
//   Total_Administered: Tadmin,
//   Total_Distributed: Tdis
// };
// L.control.layers(overlayMaps).addTo(myMap);
